var qiq=function(){function e(e,r,n,t){if(n>1&&c)return c=null,"";var o=e[r];if(Array.isArray(o))return 0===n||3===n?o.length?"":t(e):o.map(t).join("");if("function"==typeof o){var o=o.call(e,t(e));if("boolean"!=typeof o)return o;o||2!==n||(o=!o)}return 0!==n&&3!==n||(o=!o),c=o,o?t(e):""}function r(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n(e,r,n){r=r||{},n=n||{},n.delimiter&&(p=n.delimiter);var o=n.key&&l[n.key]||t(e,n.escapeNewLines);return n.key&&!l[n.key]&&(l[n.key]=o),o(r)}function t(n,t){for(var c,l=[],p=u(n),s={},f=[],g=t?"\\\\\\n":"\\n",h=r.name,b=e.name,d=0;d<p.length;++d)if(c=p[d],d%2==0)l.push('"'+c.replace(/"/g,'\\"')+'"');else switch(c[0]){case"/":c=c.slice(1),""!=c&&f[f.length-1]!=c||(l.push(" }) + "),f.pop(),delete s[c]);break;case"^":c=c.slice(1),f.push(c),o(c),i(s[c]),s[c]=0,l.push(" + "+b+'(obj, "'+c+'", 0, function(obj){ return ');break;case"#":c=c.slice(1),f.push(c),o(c),i(c,s[c]),s[c]=1,l.push(" + "+b+'(obj, "'+c+'", 1, function(obj){ return ');break;case"!":c=c.slice(1),o(c),l.push(" + obj."+c+" + ");break;case"_":c=c.slice(1),""!=c&&"else"!=c||(c=f[f.length-1]);var m=s[c]+2;l.push(" }) + "+b+'(obj, "'+c+'", '+m+", function(obj){ return ");break;default:o(c),l.push(" + "+h+"(obj."+c+") + ")}return l="\n"+a("var last;")+"\n"+a(r.toString())+";\n\n"+a(e.toString())+";\n\n  return "+l.join("").replace(/\r?\n/g,g),new Function("obj",l)}function o(e){if(!e.match(/^[\w.\[\]\"\\']+$/))throw new Error('invalid property "'+e+'"')}function i(e,r){if("undefined"!=typeof r)throw new Error('trying to overwrite existing conditional for "'+e+'"')}function u(e){return e.split(p)}function a(e){return e.replace(/^/gm,"  ")}var c,l={},p=/\{\{ ?| ?\}\}/;return{render:n,compile:t}}();"undefined"!=typeof module&&module.exports&&(exports=module.exports=qiq.render,exports.compile=qiq.compile);
