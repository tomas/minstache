var qiq=function(){function e(e,r,n,t){var o=e[r];if(4==n)return!o||void 0!==o.length&&!o.length?"":t(e);if(n>1&&c)return c=null,"";if(Array.isArray(o))return n%3==0?o.length?"":t(e):1==n?o.map(t).join(""):t(o);if(1==n&&o&&o.constructor===Object)return t(o);if("function"==typeof o){var o=o.call(e,t(e));if("boolean"!=typeof o)return o;o||2!==n||(o=!o)}return n%3===0&&(o=!o),c=o,o?t(e):""}function r(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n(e,r,n){r=r||{},n=n||{};var o=n.key&&l[n.key]||t(e,n);return n.key&&!l[n.key]&&(l[n.key]=o),o(r)}function t(n,t){t=t||{};for(var c,l,s=[],p={},f=[],h=n.split(t.delimiter||a),b=t.escapeNewLines?"\\\\\\n":"\\n",g=r.name,d=e.name,j=0;j<h.length;++j)if(c=h[j],j%2==0)s.push('"'+c.replace(/"/g,'\\"')+'"');else switch(c[0]){case"/":c=c.slice(1).replace(/\?$/,""),""!=c&&f[f.length-1]!=c||(s.push("})+"),f.pop(),delete p[c]);break;case"^":c=c.slice(1),l=0,f.push(c),o(c),i(p[c]),p[c]=l,s.push("+"+d+'(obj,"'+c+'",'+l+",function(obj){return ");break;case"#":c=c.slice(1),l=1,f.push(c),o(c),i(c,p[c]),p[c]=l,s.push("+"+d+'(obj,"'+c+'",'+l+",function(obj){return ");break;case"!":c=c.slice(1),o(c),s.push("+obj."+c+"+");break;case"_":c=c.slice(1),""!=c&&"else"!=c||(c=f[f.length-1]),l=p[c]+2,s.push("})+"+d+'(obj,"'+c+'",'+l+",function(obj){return ");break;default:"?"==c.slice(-1)?(l=4,c=c.slice(0,-1),f.push(c),o(c),i(c,p[c]),p[c]=l,s.push("+"+d+'(obj,"'+c+'",'+l+",function(obj){return ")):(o(c),c="this"==c?"":"."+c,s.push("+"+g+"(obj"+c+")+"))}return s="\n"+u("var last;")+"\n"+u(r.toString())+";\n\n"+u(e.toString())+";\n\n return "+s.join("").replace(/\r?\n/g,b),new Function("obj",s)}function o(e){if(!e.match(/^[\w.\[\]\"\\']+$/))throw new Error('invalid property "'+e+'"')}function i(e,r){if(void 0!==r)throw new Error('cannot overwrite existing conditional for "'+e+'"')}function u(e){return e.replace(/^/gm,"  ")}var c,l={},a=/\{\{ ?| ?\}\}/;return{render:n,compile:t}}();"undefined"!=typeof module&&module.exports&&(exports=module.exports=qiq.render,exports.compile=qiq.compile);
